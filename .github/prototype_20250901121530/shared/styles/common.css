:root {
  --colorNeutralForeground1:#242424;
  --colorNeutralForeground2:#424242;
  --colorNeutralForeground3:#616161;
  --colorNeutralBackground1:#ffffff;
  --colorNeutralBackground2:#f5f5f5;
  --colorNeutralBackground3:#f0f0f0;
  --colorBrandBackground:#0f6cbd;
  --colorBrandBackgroundHover:#115ea3;
  --colorBrandForeground1:#0f6cbd;
  --colorNeutralStroke1:#d1d1d1;
  --colorNeutralStroke2:#e0e0e0;
  --borderRadiusSmall:4px;
  --borderRadiusLarge:8px;
  --shadow2:0 1px 2px rgba(0,0,0,.14),0 0 2px rgba(0,0,0,.12);
  --app-header-height:64px;
  --page-max-width:1440px;
  --page-gutter:32px;
  --gap-sm:12px;
  --gap-md:20px;
  --gap-lg:32px;
  --accent-blue:#0f6cbd;
  --accent-green:#107c10;
  --accent-orange:#ca5010;
  --accent-purple:#5c2d91;
  --accent-border-alpha:12%;
  --stat-gradient-angle:135deg;
  --focus-ring-color: var(--colorBrandForeground1);
  --focus-ring: 0 0 0 2px var(--focus-ring-color);
}

* { box-sizing:border-box; }
html,body {
  margin:0;
  font-family:'Segoe UI',system-ui,sans-serif;
  background:var(--colorNeutralBackground2);
  color:var(--colorNeutralForeground1);
  min-height:100vh;
}
a { text-decoration:none; color:inherit; }
a:focus-visible, button:focus-visible { outline:2px solid var(--colorBrandForeground1); outline-offset:2px; }

.fluent-visually-hidden {
  position:absolute;
  width:1px;
  height:1px;
  padding:0;
  margin:-1px;
  overflow:hidden;
  clip:rect(0 0 0 0);
  border:0;
}

.fluent-web-container {
  max-width:var(--page-max-width);
  width:100%;
  padding:32px 32px 48px;
}

.fluent-header-bar { height:var(--app-header-height); display:flex; align-items:center; backdrop-filter:blur(6px); -webkit-backdrop-filter:blur(6px); background:rgba(255,255,255,.85); border-bottom:1px solid var(--colorNeutralStroke2); }
.fluent-header-inner { display:flex; align-items:center; justify-content:space-between; width:100%; }

.fluent-text-title2 { font-size:20px; font-weight:600; line-height:28px; }
.fluent-text-caption1 { font-size:12px; line-height:16px; color:var(--colorNeutralForeground3); }

.fluent-button {
  border:1px solid var(--colorNeutralStroke1);
  background:var(--colorNeutralBackground1);
  padding:6px 14px;
  border-radius:var(--borderRadiusSmall);
  font-size:14px;
  line-height:20px;
  font-weight:600;
  cursor:pointer;
  color:var(--colorNeutralForeground2);
  transition:.12s;
}
.fluent-button:hover { background:var(--colorNeutralBackground3); }
.fluent-button-primary { background:var(--colorBrandBackground); color:#fff; border-color:var(--colorBrandBackground); }
.fluent-button-primary:hover { background:var(--colorBrandBackgroundHover); }

.fluent-main-shell {
  margin-left: var(--sidebar-width,256px);
  min-height:100vh;
  transition: margin-left .25s cubic-bezier(.33,0,.2,1);
}
@media (max-width:960px){
  .fluent-main-shell { margin-left:0; }
  /* Ensure collapsed state completely frees horizontal space on narrow viewports */
  body.sidebar-collapsed { --sidebar-width:0px; }
}

/* Icon utility (needed by injected markup) */
.fluent-icon {
  width:16px;
  height:16px;
  stroke-width:1.8;
}

/* Badges (shared) */
.fluent-badge {
  display:inline-block;
  padding:2px 8px;
  border-radius:12px;
  font-size:12px;
  line-height:16px;
  font-weight:500;
  background:var(--colorNeutralBackground3);
  color:var(--colorNeutralForeground2);
  white-space:nowrap;
}
.fluent-badge-success { background:#dff6dd; color:#107c10; }
.fluent-badge-info { background:#e3f2fd; color:var(--colorBrandForeground1); }
.fluent-badge-neutral { background:var(--colorNeutralBackground3); color:var(--colorNeutralForeground2); }

/* Grid utilities */
.fluent-grid-stats {
  display:grid;
  gap:var(--gap-md);
  grid-template-columns:repeat(auto-fill,minmax(clamp(180px,22vw,260px),1fr));
}
.fluent-grid-favorites {
  display:grid;
  gap:var(--gap-lg);
  grid-template-columns:repeat(auto-fill,minmax(clamp(320px,45%,520px),1fr));
  align-items:start;
  padding: 10px 0 0 0;
}

/* Card surface helpers (dashboard uses) */
.fluent-surface-card {
  background:var(--colorNeutralBackground1);
  border:1px solid var(--colorNeutralStroke2);
  border-radius:var(--borderRadiusLarge);
  box-shadow:var(--shadow2);
  transition:.15s;
}
.fluent-surface-card:hover { box-shadow:0 2px 6px rgba(0,0,0,.15); }

/* Interactive utilities */
.fluent-tilt-hover { transition:transform .35s cubic-bezier(.22,1,.36,1), box-shadow .35s; }
.fluent-tilt-hover:hover { transform:translateY(-4px) rotateX(3deg); }
@media (prefers-reduced-motion:reduce){
  .fluent-tilt-hover,
  .fluent-tilt-hover:hover { transform:none !important; }
}
.fluent-glow-focus:focus-visible { box-shadow:0 0 0 2px rgba(15,108,189,.55),0 0 0 4px rgba(15,108,189,.28); outline:none; }

/* Accent palettes (used by stat & favorite cards) */
.fluent-stat-accent-blue    { --_accent:var(--accent-blue); }
.fluent-stat-accent-green   { --_accent:var(--accent-green); }
.fluent-stat-accent-orange  { --_accent:var(--accent-orange); }
.fluent-stat-accent-purple  { --_accent:var(--accent-purple); }

.fluent-stat-accent-blue,
.fluent-stat-accent-green,
.fluent-stat-accent-orange,
.fluent-stat-accent-purple {
  position:relative;
  background:
    linear-gradient(var(--stat-gradient-angle),rgba(0,0,0,0) 55%,rgba(0,0,0,.04)),
    linear-gradient(90deg,var(--colorNeutralBackground1),var(--colorNeutralBackground2));
  border:1px solid color-mix(in srgb,var(--_accent),transparent 70%);
}
.fluent-stat-accent-blue::before,
.fluent-stat-accent-green::before,
.fluent-stat-accent-orange::before,
.fluent-stat-accent-purple::before {
  content:'';
  position:absolute;
  inset:0;
  background:
    radial-gradient(circle at 85% 15%,color-mix(in srgb,var(--_accent),transparent 80%),transparent 60%),
    linear-gradient(120deg,color-mix(in srgb,var(--_accent),transparent 92%),transparent);
  mix-blend-mode:multiply;
  pointer-events:none;
  border-radius:inherit;
}
.fluent-stat-accent-blue::after,
.fluent-stat-accent-green::after,
.fluent-stat-accent-orange::after,
.fluent-stat-accent-purple::after {
  content:'';
  position:absolute;
  inset:0;
  border-radius:inherit;
  background:linear-gradient(100deg,rgba(255,255,255,0) 30%,rgba(255,255,255,.55) 45%,rgba(255,255,255,0) 60%);
  opacity:0;
  transform:translateX(-20%);
  transition:opacity .6s, transform .8s;
}
.fluent-stat-accent-blue:hover::after,
.fluent-stat-accent-green:hover::after,
.fluent-stat-accent-orange:hover::after,
.fluent-stat-accent-purple:hover::after {
  opacity:.4;
  transform:translateX(0);
}
@media (prefers-reduced-motion:reduce){
  .fluent-stat-accent-blue::after,
  .fluent-stat-accent-green::after,
  .fluent-stat-accent-orange::after,
  .fluent-stat-accent-purple::after { display:none; }
}

/* Micro trend chip */
.fluent-trend-chip {
  display:inline-flex;
  align-items:center;
  gap:4px;
  padding:2px 6px 2px 4px;
  background:rgba(0,0,0,.04);
  border-radius:12px;
  font-size:11px;
  line-height:14px;
  font-weight:500;
  letter-spacing:.25px;
}
.fluent-trend-chip i { width:14px; height:14px; }

/* Favorite card accent edge */
.fluent-favorite-accent {
  position:relative;
  background:linear-gradient(90deg,var(--colorNeutralBackground1),var(--colorNeutralBackground2));
}
.fluent-favorite-accent::before {
  content:'';
  position:absolute;
  left:0; top:0; bottom:0;
  width:4px;
  background:var(--_accent,var(--accent-blue));
  border-radius:4px 0 0 4px;
}

/* Subtle separator utility */
.fluent-divider-h {
  height:1px;
  background:var(--colorNeutralStroke2);
  border:0;
  margin:8px 0;
}

/* Numeric tone */
.fluent-number-strong { font-size:32px; font-weight:600; letter-spacing:-.5px; }

/* Unified focus utility */
.fluent-focus-ring:focus-visible,
.fluent-button:focus-visible,
.fluent-sidebar-nav-item:focus-visible {
  outline:none;
  box-shadow:var(--focus-ring);
  border-radius:6px;
}

/* Truncate utility (shared for nav labels / future) */
.fluent-truncate {
  display:inline-block;
  max-width:100%;
  overflow:hidden;
  text-overflow:ellipsis;
  white-space:nowrap;
}
