<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Login (Mock)</title>
  <link rel="stylesheet" href="../shared/styles/common.css">
  <link rel="stylesheet" href="../shared/styles/layout.css">
  <link rel="stylesheet" href="login.css">
</head>
<body>
<div class="fluent-layout">
  <div id="app-sidebar"></div>
  <div class="fluent-content">
    <div id="app-header"></div>
    <div class="fluent-main">
      <h1 class="fluent-section-title">Switch User (Mock)</h1>
      <p class="fluent-meta">Select a user to simulate different permissions.</p>
      <div id="user-cards" class="fluent-card-grid"></div>
    </div>
  </div>
</div>
<script src="../shared/js/mockData.js"></script>
<script src="../shared/js/layout.js"></script>
<script>
injectSidebar("dashboard.html");
injectHeader();

function renderUsers(){
  var host = document.getElementById("user-cards");
  var html="";
  for(var i=0;i<mockUsers.length;i++){
    var u = mockUsers[i];
    html += '<div class="fluent-card">' +
      '<h3>'+ u.name +'</h3>' +
      '<div class="fluent-meta">'+ u.role +'</div>' +
      '<button class="fluent-btn" onclick="selectUser('+ u.id +')">Use</button>' +
    '</div>';
  }
  host.innerHTML = html;
}
renderUsers();

function selectUser(id){
  for(var i=0;i<mockUsers.length;i++){
    if(mockUsers[i].id===id){
      currentUser = mockUsers[i];
      alert("User switched to "+ currentUser.name);
      window.location.href="dashboard.html";
      break;
    }
  }
}
</script>
</body>
</html>
